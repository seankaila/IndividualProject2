# IndividualProject: Magic 8 Ball

# Table of contents
1. [Brief](#Brief)
2. [Architecture](#Architecture)
    1. [Database ERD](#Database-ERD)
    2. [Use Case Diagram](#Use-Case-Diagram)
    3. [Service Archetecture Diagram](#Service-Archetecture-Diagram)
3. [Project Management](#Project-Management)
    1. [Kanban Board](#Kanban-Board)
    2. [Risk Management](#Risk-Management)
4. [Testing](#Testing)
    1. [Code Coverage Report](#Code-Coverage-Report)
5. [Terraform](#Terraform)
6. [Continuous Integration Pipeline and Best-Practices](#Continuous-Integration-Pipeline-and-Best-Practices)
    1. [CI Pipeline](#CI-Pipeline)
    2. [Best practices](#Best-practices)
7. [Known Issues & Futher Improvements](#Known-Issues-&-Futher-Improvements)
8. [Final Functioning Front-End](#Final-Functioning-Front-End)
9. [Acknowledgements](#Acknowledgements)
10. [Author](#Author)

## Brief 
This project is intended to demonstrate the knowledge from training with QA. To do this I was tasked to create an application that generates an object based upon a set of predefined rules, testing the application though unit testing & deploying the application using github ations. Terrafrom will be used to reate the resources used for the project (Four Webapps & One Mysql Database). Data generated by these services will then be stored in a mySQL database hosted in Azure.

## Architecture

### Database Table
![image](https://user-images.githubusercontent.com/82107182/122677807-da925c00-d1db-11eb-8f42-a9390cb9b6b3.png)
Once a users asks a question, their question and the systems responces are recorded to a mysql database. This Diagram descibes the entities inside the database used in the project. As we can see the Table is uisng an ID as a primary key to uniquely identify rolls of data from a table. The Question and Answer entiy uses strings as data types and the probability is represented using the data type of an integer.

### Use Case Diagram 
![image](https://user-images.githubusercontent.com/82107182/122678298-14646200-d1de-11eb-929c-65eb5ee9b081.png)
This diagram describes how a user will typically use the system. 


### Service Archetecture Diagram
![image](https://user-images.githubusercontent.com/82107182/122678986-e6cce800-d1e0-11eb-86b9-5ef21c41e56f.png)


## Project Management 

### Kanban Board
To track and understand the progress of my project I used Azure Devops to create a Kanban Board. This board was split up into different sections.

- Epics: These are high level categories each user story refers to. 
 ![image](https://user-images.githubusercontent.com/82107182/123100387-fd667f80-d42a-11eb-93eb-679ada12d48e.png)
- User Stories: These are derived from the Epics, detailing what a user whatâ€™s to do and why they want to do that action. 
- Tasks: These contain low level tasks needed for a user story / epic to be deemed completed.
 ![image](https://user-images.githubusercontent.com/82107182/123101003-84b3f300-d42b-11eb-9152-85c5319800cc.png)


#### Kanban Board layout: 
- New: Here User stories that needed to be started were stored here.
- Active: stories that were currently being worked on.
- Closed: User stories and tasks that were completed.
![image](https://user-images.githubusercontent.com/82107182/123111345-bed5c280-d434-11eb-84c5-96f56e802939.png)



Link to Kanban Board: https://dev.azure.com/dharmindraskaila/Individual-Project-2/_boards/board/t/Individual-Project-2%20Team/Stories

### Risk Management
![image](https://user-images.githubusercontent.com/82107182/123129184-a7ea9c80-d443-11eb-8a28-66a212532bcd.png)
A simple risk assessment was performed during the project. Each risk was described and evaluated along with a rating to understand the severity of the risk. To expand upon this, I provided an update to each risk checking to see if they changed in anyway.


## Testing
![image](https://user-images.githubusercontent.com/82107182/123129423-d799a480-d443-11eb-8b87-cb056eb5409f.png)
Like the last project, the AAA testing pattern was used to create appropriate tests for each service of the project. As we can see, all 13 tests passed spanning 4 different countrollers (3 web apis & 1 web app). A range of tests were included within this project. For example: Testings what would happen if a user didnt enter a question. 

### Code Coverage Report
![image](https://user-images.githubusercontent.com/82107182/123132743-f77e9780-d446-11eb-8bff-5bd020554cd5.png)
From the summary above we can see that the overall code coverage of the project is sitting at a strong 73.4%. This is a massive improvement from the last project as code that shouldnt be tested isnt being covered by the report generator. Giving us a better understand of the potential areas of consern. This number could have been higher but the views havent been tested. This negatively affecting the coverage. To Test the views, integration testing was be taught but due to time it wasnt. 

![image](https://user-images.githubusercontent.com/82107182/123133520-b935a800-d447-11eb-9353-162a0c0bf30e.png)
As we can see every controller tested had a code coverage of 100%. This a really good because it means that main logic within the app doesnt have any run times errors. But may be suceptable to logical errors that i didnt account for or see. A way to fully understand the logical errors would be by conducting integration tests, which encoperate inputs from the front end.

![image](https://user-images.githubusercontent.com/82107182/123136078-70332300-d44a-11eb-8149-9df7c6147b90.png)
![image](https://user-images.githubusercontent.com/82107182/123136318-b5efeb80-d44a-11eb-99de-22a44cf43e91.png)
Strangly, one area not being covered in my tests was this history class. Used for mapping data for the database. The class above is being referenced by two tests but its not being coverded by the code coverage. This is something i cannot explain.

## Terraform
![image](https://user-images.githubusercontent.com/82107182/123146727-1f292c00-d456-11eb-9310-1bcde8ccb128.png)
To build the resource group, all four app services and the MySQL database above, i used terrafrom. This allowed me to create all of these resources using code instead of the GUI. This is a great way of creating objects in Azure because its faster and more efficient. Allowing me to also make changes the whats on azure if something needs changing.
![image](https://user-images.githubusercontent.com/82107182/123146885-50096100-d456-11eb-95b5-f01375396191.png)
The screenshot above shows me susessfully making a change to my terraform highlighting that one change has been made. This was done by running the commands "Terrafrom plan" prep the chanfes then "Terrafrom apply" to finalize the changes.

## Continuous Integration Pipeline and Best Practices

### CI Pipeline 
![image](https://user-images.githubusercontent.com/82107182/123141608-788e5c80-d450-11eb-9300-dfca8ade3840.png)
Using GitHub actions I was able to deploy my project to my app services in azure. To do this i used four yml files. One for each service and one for the actual asp.net web app. To make this process look a lot less complicated and easier to follow, i should have used one yml file instead of four.

![image](https://user-images.githubusercontent.com/82107182/123142389-47faf280-d451-11eb-920a-7a305e7a3d59.png)
As we can see the yml files does multiple jobs, getting the project ready to publish and deploy. From the screenshot above, we can see that the build job is just checking for any before going into the test job. 

### Best practices


## Known Issues & Futher Improvements 


## Final Functioning Front-End
![image](https://user-images.githubusercontent.com/82107182/122682754-3ae0c800-d1f3-11eb-9187-1e13da03184a.png)
![image](https://user-images.githubusercontent.com/82107182/122682783-5b108700-d1f3-11eb-984f-fe265a53d6f6.png)
![image](https://user-images.githubusercontent.com/82107182/122682797-7085b100-d1f3-11eb-87fc-e70f4ed37a12.png)



## Acknowledgements
- Ben Hesketh
- Dara Oladapo
- Victoria Sacre

## Author
Dharmindra Sean Kaila
